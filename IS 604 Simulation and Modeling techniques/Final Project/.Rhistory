times >= ai[i] & times < ai[i+1]
for(i in 2:6){
O <- c(O,length(times[times >= ai[i] & times < ai[i+1]]))
}
O
rep(3,3)
rep(2,3)
E <- rep(50/k,k)
E
sum(E)
chisq
chisq <- sum(((O-E)^2)/E)
hist(times)
hist(times,breaks=25)
hist(times,breaks=50)
?qchisq
?pchisq(0.95,4)
pchisq(0.95,4)
qchisq(0.95,4)
qchisq(0.95,6)
qchisq(0.95,4)
qchisq(0.94,4)
qchisq(0.95,4)
chisq
times <- c(18.9, 22, 19.4, 22.1, 19.8, 21.9, 20.2)
t0 <- sd(times)
times-mean(times)
sqrt(((times-mean(times))^2)/(length(times)-1))
sqrt(sum((times-mean(times))^2)/(length(times)-1))
mu <- 22.5
t0 <- (mean(times)-mu)/(sd(times)/sqrt(length(times)))
qt(0.025,length(times)-1)
abs(-3)
delta <- abs(mean(times)-mu)/sd(times)
install.packages("qcc")
library(qcc)
library(qcc)
setwd("E:/Downloads/Courses/CUNY/SPS/Git/IS 604 Simulation and Modeling techniques/Final Project")
library(plyr)
library(dplyr)
library(reshape)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
View(mig2014)
View(mig2014)
?cast
?melt
View(mig2014)
mig <- melt(mig2014)
View(mig2014)
View(mig)
rm(mig)
View(mig2014)
colnames(mig2014)
mig <- melt(mig2014,id.vars=colnames(mig2014)[2:length(colnames(mig2014))])
View(mig)
View(mig)
View(mig2014)
View(migsame2014)
colnames(mig2014)
migsame2014$State
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)
migsame2014$State
colnames(mig2014)[2:52]
colnames(mig2014)[2:52] <- migsame2014$State[1:(length(migsame2014$State-1))]
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
migsame2014$State[1:(length(migsame2014$State-1))]
migsame2014$State[1:(length(migsame2014$State)-1)]
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <- migsame2014$State[1:(length(migsame2014$State)-1)]
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
View(mig2014)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <- migsame2014$State[1:(length(migsame2014$State)-1)]
View(mig2014)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
View(mig2014)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
View(mig2014)
mig <- melt(mig2014,id.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
View(mig)
View(mig)
View(mig2014)
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
mig total <- mig
migtotal <- mig
View(mig)
View(mig2014)
rm(mig2014,migsame2014)
rm(state)
rm(mig)
mig <- read.csv("2013matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2013same.csv")
View(mig)
mig <- read.csv("2013matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2013same.csv")
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
View(mig)
mig <- read.csv("2013matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2013same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
View(mig)
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
View(mig)
year <- 2013
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
View(migtotal)
mig <- read.csv("2012matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2012same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
migsame$State
View(migsame)
mig <- read.csv("2012matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2012same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
year <- 2012
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
mig2014 <- read.csv("2014matrix.csv",header=TRUE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
mig$migration <- as.numeric(mig$migration)
as.numeric(mig$migration)
is.na(as.numeric(mig$migration))
mig2014 <- read.csv("2014matrix.csv",header=TRUE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
warnings()
ig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
migtotal <- mig
mig <- read.csv("2013matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2013same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
year <- 2013
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
mig <- read.csv("2012matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2012same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
year <- 2012
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
mig <- read.csv("2011matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2011same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
year <- 2011
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
mig <- read.csv("2010matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame <- read.csv("2010same.csv")
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
year <- 2010
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
migtotal <- mig
5*2860
for(year in c(2014,2013,2012,2011,2010)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
migsame <- read.csv(paste(year,"same.csv",sep=""))
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
migtotal <- mig
for(year in c(2013,2012,2011,2010)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
migsame <- read.csv(paste(year,"same.csv",sep=""))
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
year <- 2009
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
colnames(mig)[2:52]
colnames(mig)[2:53]
colnames(mig)[2:39]
colnames(mig)[2:40]
colnames(mig)[2:41]
migsame$State[1:39]
mig[42:length(colnames(mig))]
colnames(mig)[42:length(colnames(mig))]
migsame$State[40:length(migsame$State)]
migsame$State[40:(length(migsame$State)-1)]
year <- 2013
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
year <- 2009
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
View(mig)
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
migtotal <- mig
for(year in c(2013,2012,2011,2010)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
migsame <- read.csv(paste(year,"same.csv",sep=""))
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
for(year in c(2009,2008,2007,2006,2005)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
colnames(mig)[2:40] <-
as.character(migsame$State[1:39])
colnames(mig)[41] <- "Puerto Rico"
colnames(mig)[42:length(colnames(mig))] <-
migsame$State[40:(length(migsame$State)-1)]
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
write.csv(migtotal,"migrationflat.csv")
?write.csv
write.csv(migtotal,"migrationflat.csv",row.names=FALSE)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
migtotal <- mig
for(year in c(2013,2012,2011,2010)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
migsame <- read.csv(paste(year,"same.csv",sep=""))
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
for(year in c(2009,2008,2007,2006,2005)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
colnames(mig)[2:40] <-
as.character(migsame$State[1:39])
colnames(mig)[41] <- "Puerto Rico"
colnames(mig)[42:length(colnames(mig))] <-
as.character(migsame$State[40:(length(migsame$State)-1)])
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
write.csv(migtotal,"migrationflat.csv",row.names=FALSE)
mig2014 <- read.csv("2014matrix.csv",header=TRUE,stringsAsFactors = FALSE)
migsame2014 <- read.csv("2014same.csv")
colnames(mig2014)[2:52] <-
as.character(migsame2014$State[1:(length(migsame2014$State)-1)])
colnames(mig2014)[54] <- "Puerto Rico"
for(state in as.character(migsame2014$State)){
mig2014[mig2014$X == state,state] <-
as.numeric(migsame2014[migsame2014$State == state,"Migration"])
}
mig <- melt(mig2014,measure.vars=colnames(mig2014)[2:length(colnames(mig2014))])
mig$year <- 2014
colnames(mig) <- c("source","destination","migration","year")
migtotal <- mig
for(year in c(2013,2012,2011,2010)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
migsame <- read.csv(paste(year,"same.csv",sep=""))
colnames(mig)[2:52] <-
as.character(migsame$State[1:(length(migsame$State)-1)])
colnames(mig)[54] <- "Puerto Rico"
for(state in as.character(migsame$State)){
mig[mig$X == state,state] <-
as.numeric(migsame[migsame$State == state,"Migration"])
}
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
for(year in c(2009,2008,2007,2006,2005)){
mig <- read.csv(paste(year,"matrix.csv",sep=""),header=TRUE,
stringsAsFactors = FALSE)
colnames(mig)[2:40] <-
as.character(migsame$State[1:39])
colnames(mig)[41] <- "Puerto Rico"
colnames(mig)[42:length(colnames(mig))] <-
as.character(migsame$State[40:(length(migsame$State)-1)])
mig <- melt(mig,measure.vars=colnames(mig)[2:length(colnames(mig))])
mig$year <- year
colnames(mig) <- c("source","destination","migration","year")
migtotal <- rbind(migtotal,mig)
}
is.na(migtotal$migration)
library(dplyr)
filter(migtotal,is.na(migration))
as.numeric("a")
migtotal$migration <- as.numeric(migtotal$migration)
migtotal$source <- as.factor(migtotal$source)
write.csv(migtotal,"migrationflat.csv",row.names=FALSE)
levels(migtotal$source)
totalpopulation <- 1000000
popdist <- runif(5)
sum(popdist)
popdist <- popdist/sum(popdist)
sum(popdist)
